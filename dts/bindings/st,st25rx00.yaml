# Copyright (c) 2025 NeuraSignal Inc.
# SPDX-License-Identifier: Apache-2.0

description: |
  ST Microelectronics ST25Rx00 Series NFC Reader/Writer IC.

  Supports ST25R100 and ST25R200 NFC reader chips with SPI interface.
  These devices implement NFC Forum compliant NFC reader/writer functionality
  supporting NFC-A, NFC-B, NFC-F, and NFC-V technologies.

  Example:
    &spi1 {
        st25r100: st25r100@1 {
            compatible = "st,st25rx00";
            reg = <1>;
            spi-max-frequency = <6000000>;
            irq-gpios = <&gpio0 8 (GPIO_PULL_UP | GPIO_ACTIVE_LOW)>;
            reset-gpios = <&gpio1 3 GPIO_ACTIVE_LOW>;
        };
    };

compatible: "st,st25rx00"

include: spi-device.yaml

properties:
  irq-gpios:
    type: phandle-array
    required: true
    description: |
      GPIO connected to the ST25Rx00 IRQ (interrupt) pin.
      This pin is active LOW and should be configured with GPIO_ACTIVE_LOW.
      The pin should have an external or internal pull-up resistor.

  reset-gpios:
    type: phandle-array
    required: true
    description: |
      GPIO connected to the ST25Rx00 RESET pin.
      This pin is active LOW and should be configured with GPIO_ACTIVE_LOW.
      Reset is used to hardware reset the NFC reader IC during initialization.

  spi-max-frequency:
    description: |
      Maximum SPI clock frequency for communication with the ST25Rx00.
      ST25R100: Maximum 6 MHz
      ST25R200: Maximum 10 MHz
      Default value depends on chip variant selection in Kconfig.

  led-field-gpios:
    type: phandle-array
    description: |
      Optional GPIO for NFC field LED indicator.
      Turns on when RF field is active.

  led-rx-gpios:
    type: phandle-array
    description: |
      Optional GPIO for NFC RX LED indicator.
      Turns on during reception of NFC data.

  led-tx-gpios:
    type: phandle-array
    description: |
      Optional GPIO for NFC TX LED indicator.
      Turns on during transmission of NFC data.

  led-error-gpios:
    type: phandle-array
    description: |
      Optional GPIO for NFC error LED indicator.
      Turns on when CRC, parity, or framing errors occur.
